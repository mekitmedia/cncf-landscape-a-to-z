{{ define "main" }}
<div class="min-h-screen bg-slate-50 font-sans text-slate-900 flex flex-col">
    <!-- Navigation Header -->
    {{ partial "nav.html" . }}

    <main class="flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full">
        <!-- Back Link -->
        <div class="mb-10">
            <a href="/posts/" class="group inline-flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-blue-600 transition-colors">
                <i data-lucide="arrow-left" class="w-4 h-4 group-hover:-translate-x-1 transition-transform"></i> 
                Back to Blog
            </a>
        </div>

        <article class="bg-white rounded-[3rem] border border-slate-200 shadow-2xl shadow-slate-200/60 overflow-hidden relative">
            <!-- Top Gradient Bar -->
            <div class="h-3 bg-gradient-to-r from-blue-600 via-indigo-500 to-blue-400"></div>
            
            <div class="p-8 md:p-16">
                <header class="mb-12">
                    <div class="flex items-center gap-3 mb-8">
                        <span class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-[10px] font-black uppercase tracking-widest">
                            New Story
                        </span>
                        <div class="h-px flex-grow bg-slate-100"></div>
                        <time class="text-xs font-bold text-slate-400 uppercase tracking-tighter">{{ .Date.Format "Jan 02, 2006" }}</time>
                    </div>

                    <h1 class="text-4xl md:text-6xl font-black mb-8 tracking-tight text-slate-900 leading-[1.1]">
                        {{ .Title }}
                    </h1>

                    <div class="flex flex-wrap items-center gap-6 text-slate-400">
                        <div class="flex items-center gap-2">
                            <div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500">
                                <i data-lucide="user" class="w-5 h-5"></i>
                            </div>
                            <span class="text-sm font-bold text-slate-600">CNCF Journey Team</span>
                        </div>
                        <div class="h-4 w-px bg-slate-200"></div>
                        <div class="flex items-center gap-2 text-sm font-medium">
                            <i data-lucide="clock" class="w-4 h-4"></i>
                            <span>{{ .ReadingTime }} min read</span>
                        </div>
                    </div>
                </header>

                <div class="blog-content prose prose-slate prose-lg max-w-none text-slate-600 leading-[1.8]">
                    {{ .Content }}
                </div>

                <!-- Bio / Footer Card -->
                <div class="mt-20 p-8 rounded-3xl bg-slate-50 border border-slate-100 flex flex-col md:flex-row items-center gap-8 justify-between">
                    <div class="flex items-center gap-6">
                        <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-black text-2xl shadow-lg shadow-blue-200 rotate-3 transition-transform hover:rotate-0">
                            AZ
                        </div>
                        <div>
                            <h4 class="font-black text-slate-900 text-lg">CNCF Landscape A-to-Z</h4>
                            <p class="text-slate-500 text-sm max-w-xs">Demystifying the cloud native ecosystem one letter at a time.</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 w-full md:w-auto">
                        <a href="https://github.com/mekitmedia/cncf-landscape-a-to-z" target="_blank" class="flex-1 md:flex-none flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-600 px-6 py-3 rounded-xl font-bold hover:bg-slate-50 transition-colors">
                            <i data-lucide="github" class="w-5 h-5"></i>
                            Source
                        </a>
                        <button id="share-button" class="flex-1 md:flex-none flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition-all shadow-lg shadow-blue-100">
                            <i data-lucide="share-2" class="w-4 h-4"></i>
                            Share
                        </button>
                    </div>
                </div>
            </div>
        </article>
    </main>
</div>

<script>
document.getElementById('share-button').addEventListener('click', async () => {
    const shareData = {
        title: '{{ .Title }}',
        text: '{{ .Summary }}',
        url: window.location.href
    };

    try {
        if (navigator.share) {
            await navigator.share(shareData);
        } else {
            // Fallback: Copy to clipboard
            await navigator.clipboard.writeText(window.location.href);
            
            // Visual feedback
            const btn = document.getElementById('share-button');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i data-lucide="check" class="w-4 h-4"></i> Link Copied!';
            lucide.createIcons();
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                lucide.createIcons();
            }, 2000);
        }
    } catch (err) {
        console.error('Error sharing:', err);
    }
});
</script>

<style>
    /* Specific blog content styling */
    .blog-content h3 {
        color: #0f172a;
        font-weight: 800;
        margin-top: 3rem;
        margin-bottom: 1.5rem;
        font-size: 1.75rem;
        letter-spacing: -0.025em;
    }
    .blog-content p {
        margin-bottom: 1.5rem;
    }
    .blog-content ul {
        margin-bottom: 2rem;
        list-style: none;
        padding-left: 0;
    }
    .blog-content li {
        position: relative;
        padding-left: 1.75rem;
        margin-bottom: 1rem;
    }
    .blog-content li::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0.6em;
        width: 0.5rem;
        height: 0.5rem;
        background-color: #3b82f6;
        border-radius: 9999px;
    }
    .blog-content strong {
        color: #1e3a8a;
        font-weight: 800;
    }
</style>
{{ end }}
